<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8" />
    <meta name="description" content="ูุงุฆูุฉ ููุงู ุชูุงุนููุฉ" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ูุงุฆูุฉ ุงูููุงู</title>
    <link href="https://fonts.googleapis.com/css2?family=Droid+Arabic+Naskh&display=swap" rel="stylesheet" />

    <script>
        (function() {
            const savedLang = localStorage.getItem("selectedLanguage") || "ar";
            document.documentElement.lang = savedLang;
            document.documentElement.dir = savedLang === "ar" ? "rtl" : "ltr";

            if (localStorage.getItem('theme') === 'dark') {
                document.documentElement.classList.add('dark-theme');
            }
        })();
    </script>

    <link rel="stylesheet" href="css/style.css" />
    <link rel="icon" href="website.png" />
</head>

<body>

    <main class="container">
        <!-- ุชุฑุงูุจ ุงูููุฏุงู -->
        <div id="modal-overlay" hidden></div>

        <!-- ุฑุฃุณ ุงูุตูุญุฉ -->
        <header class="header">
            <!-- ุงุฎุชูุงุฑ ุงููุบุฉ -->
            <select id="languageSelect" aria-label="ุงุฎุชูุงุฑ ุงููุบุฉ">
                <option value="ar">ุงูุนุฑุจูุฉ</option>
                <option value="en">English</option>
            </select>

            <!-- ุงูุนููุงู ุงูุฑุฆูุณู -->
            <h1 id="title-main">ูุงุฆูุฉ ุงูููุงู</h1>

            <!-- ุนุฏุงุฏ ุงูููุงู ููุณุจุฉ ุงูุฅูุฌุงุฒ -->
            <div class="Count">
                <span id="taskCountLabel">ุนุฏุฏ ุงูููุงู ุงูุญุงููุฉ: </span>
                <span id="taskCount">0</span>
                <span id="completionRate" style="margin-inline-start: 10px; color: green; font-weight: bold;"></span>
            </div>

            <!-- ุฒุฑ ุชุจุฏูู ุงูุซูู -->
            <button id="themeToggle" title="ุชุจุฏูู ุงููุถุน ุงููููู/ุงูููุงุฑู">๐</button>
        </header>

        <!-- ูููุฐุฌ ุฅุถุงูุฉ ุงููููุฉ -->
        <form onsubmit="return false;" class="task-input-form">
            <!-- ุงูุญูู ุงููุตู -->
            <input id="taskInput" type="text" placeholder="ุฃุถู ูููุฉ ุฌุฏูุฏุฉ" autocomplete="off" />

            <!-- ุงูููุนุฏ ุงูููุงุฆู -->
            <input id="deadlineInput" type="datetime-local" title="ุงุฎุชุฑ ุงูููุนุฏ ุงูููุงุฆู" />

            <!-- ุชุญุฏูุฏ ุงูุฃููููุฉ -->
            <select id="priorityInput" title="ุชุญุฏูุฏ ุฃููููุฉ ุงููููุฉ">
                <option value="high">ุนุงุฌู โ</option>
                <option value="medium" selected>ูุชูุณุท โ๏ธ</option>
                <option value="low">ููุฎูุถ โ</option>
            </select>

            <!-- ุฃุฒุฑุงุฑ ุงูุชุญูู -->
            <button id="voiceControlBtn" title="ุงูุชุญูู ุงูุตูุชู ุงููุงูู" type="button">๐ง ุชุญูู ุตูุชู</button>
            <button id="addBtn" type="button">โ ุฅุถุงูุฉ</button>
        </form>

        <!-- ุฃุฏูุงุช ุงูุจุญุซ ูุงูููุชุฑุฉ -->
        <section class="box search-section">
            <!-- ูุฌููุนุฉ ุฅุฏุฎุงู ุงูุจุญุซ -->
            <div class="search-wrapper" id="search_wrapper">
                <input id="searchInput" type="search" placeholder="๐ ุงุจุญุซ ุนู ูููุฉ">
            </div>

            <!-- ุฒุฑ ุจุฏุก ุงูุจุญุซ -->
            <button id="searchBtn" type="button">๐ ุงูุจุญุซ ูู ูุงุฆูุฉ ุงูููุงู</button>

            <!-- ุชุญุฏูุฏ ุชุฑุชูุจ ุงูููุงู -->
            <select id="sortTasksSelect">
                <option value="default">ุงูุชุฑุชูุจ ุงูุงูุชุฑุงุถู</option>
                <option value="complete">ุงูููุงู ุงูููุชููุฉ</option>
                <option value="incompleteOnly">ุงูููุงู ุบูุฑ ุงูููุชููุฉ</option>
                <option value="newest">ุงูููุงู ุงูุฃุญุฏุซ</option>
                <option value="oldest">ุงูููุงู ุงูุฃูุฏู</option>
                <option value="priority">ุญุณุจ ุงูุฃููููุฉ (ูู ุงูุนุงูู ุฅูู ุงูููุฎูุถ)</option>
            </select>

            <!-- ุชุญููุงุช ุงูุจุญุซ ุงููุชูุฏูุฉ -->
            <div id="searchControls" style="display:none">
                <!-- ูุฌููุนุฉ ุงูุฃุฒุฑุงุฑ -->
                <div style="display: flex; gap: 10px; flex: 1 1 100%; flex-wrap: wrap;">
                    <button id="cancelBtn" type="button">โ ุฅูุบุงุก ุงูุจุญุซ</button>
                    <button id="voiceSearchBtn" type="button">๐ค ุงูุจุญุซ ุงูุตูุชู</button>
                </div>

                <!-- ูุฌููุนุฉ ุงูููุงุชุฑ -->
                <div class="label-group" id="statusFilterGroup">
                    <label for="statusFilter" id="labelStatusFilter">๐ ุญุงูุฉ ุงููููุฉ</label>
                    <select id="statusFilter">
                        <option value="all">ูู ุงูุญุงูุงุช</option>
                        <option value="completed">ุงูููุชููุฉ</option>
                        <option value="pending">ุบูุฑ ุงูููุชููุฉ</option>
                    </select>
                </div>

                <div class="label-group" id="matchModeGroup">
                    <label for="matchMode" id="labelMatchMode">๐งฎ ููุท ุงูุจุญุซ</label>
                    <select id="matchMode">
                        <option value="or">ุฃู ูููุฉ</option>
                        <option value="and">ูู ุงููููุงุช</option>
                    </select>
                </div>

                <!-- ุนุฏุฏ ุงููุชุงุฆุฌ -->
                <div id="matchCount" style="display: none;">
                    <span id="matchCountLabel">ุนุฏุฏ ุงููุชุงุฆุฌ:</span>
                    <span id="matchCountNumber">0</span>
                </div>

            </div>

        </section>

        <!-- ูุงุฆูุฉ ุงูููุงู -->
        <ul id="taskList"></ul>

        <!-- ุฃุฏูุงุช ุฅุถุงููุฉ -->
        <section class="box actions-section">
            <button id="clearAllBtn" type="button">๐๏ธ ุญุฐู ุฌููุน ุงูููุงู</button>
        </section>

    </main>

    <script src="js/translations.js" type="module"></script>
    <script src="js/voice-control.js" type="module"></script>
    <script src="js/main.js" type="module"></script>

</body>

</html>